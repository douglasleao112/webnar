<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Evento Exclusivo</title>
  <style>
    :root{
      --bg:#0b0b0b;
      --fg:#fff;
      --muted:rgba(255,255,255,.7);
      --accent:#22c55e;
      --radius:16px;
      --maxw:560px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      background:var(--bg);
      color:var(--fg);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      display:flex;align-items:center;justify-content:center;flex-direction:column;
      text-align:center;padding:24px;overflow:hidden;
    }

    /* Containers (etapas) */
    .view{width:100%;max-width:var(--maxw);transition:opacity .4s ease, transform .4s ease}
    .hidden{opacity:0;pointer-events:none;transform:translateY(8px)}
    .centerCard{
      background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.04));
      border:1px solid rgba(255,255,255,.1);
      border-radius:var(--radius);
      padding:28px;
      backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);
      box-shadow:0 10px 30px rgba(0,0,0,.25);
      margin:auto
    }

    .view {
  width: 100%;
  max-width: var(--maxw);
  transition: opacity .4s ease, transform .4s ease;
  
  /* CENTRALIZAÇÃO */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh; /* ocupa a tela toda */
}


    /* Etapa 1: Splash */
    h1{font-size:clamp(24px,6vw,36px);margin:0 0 20px}
    .loader{
      border:5px solid rgba(255,255,255,.2);
      border-top:5px solid var(--accent);
      border-radius:50%;width:56px;height:56px;
      margin:0 auto;
      animation:spin 1s linear infinite
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    /* Etapa 2: Check-in/Confirmado */
    .checkmark{width:80px;height:auto;margin:0 auto 16px;display:block}
    .title{margin:0 0 10px;font-size:clamp(28px,5vw,40px);line-height:1.1;letter-spacing:-.02em}
    .muted{color:var(--muted);margin:0 0 18px;font-size:clamp(14px,3.5vw,16px)}
    .bar{position:relative;height:10px;border-radius:999px;background:rgba(255,255,255,.12);overflow:hidden;margin-top:8px}
    .bar>span{position:absolute;left:0;top:0;bottom:0;width:0;background:var(--accent);animation:fill 5s linear forwards}
    @keyframes fill{to{width:100%}}
    .cta{display:inline-block;margin-top:16px;padding:12px 16px;background:var(--accent);color:#0a0a0a;text-decoration:none;border-radius:12px;font-weight:700;font-size:16px}
    .ghost{display:block;margin-top:10px;color:var(--muted);font-size:14px;text-decoration:underline}
  </style>
</head>
<body>
  <!-- Etapa 1: Splash (Evento Exclusivo) -->
  <section id="view-splash" class="view">
    <h1>Evento Exclusivo<br>Domingo 19h</h1>
    <div class="loader" role="status" aria-label="Carregando"></div>
  </section>

  <!-- Etapa 2: Confirmação + contagem + redirecionamento -->
  <section id="view-confirm" class="view hidden" aria-live="polite">
    <div class="centerCard">
      <img class="checkmark" alt="Inscrição confirmada"
        src="https://static.vecteezy.com/system/resources/thumbnails/016/774/415/small/green-check-mark-icon-on-transparent-background-free-png.png" />
      <h2 class="title">Inscrição Confirmada!</h2>
      <p class="muted">Você será redirecionado em <strong id="count">5</strong> segundos…</p>
      <div class="bar" aria-label="Progresso do redirecionamento">
        <span aria-hidden="true"></span>
      </div>
      <a id="goNow" class="cta" href="#" rel="noopener">Entrar no Grupo</a>
      <a id="fallbackLink" class="ghost" href="#" rel="noopener"> </a>
    </div>
  </section>

  <script>
    (function () {
      // Configurações
      const SPLASH_MS = 3000;           // tempo na tela "Evento Exclusivo"
      const CONFIRM_MS = 5000;          // tempo até redirecionar na tela "Inscrição Confirmada"
      const TARGET_URL = "/link-grupo";

      // Elementos
      const $splash = document.getElementById("view-splash");
      const $confirm = document.getElementById("view-confirm");
      const $count = document.getElementById("count");
      const $goNow = document.getElementById("goNow");
      const $fallback = document.getElementById("fallbackLink");

      // Define links
      $goNow.href = TARGET_URL;
      $fallback.href = TARGET_URL;

      // Util: troca de views com fade
      function show(elToShow, elToHide){
        if (elToHide){ elToHide.classList.add("hidden"); }
        if (elToShow){ elToShow.classList.remove("hidden"); }
      }

      // 1) Mostra splash e, após 3s, vai para "confirmado"
      setTimeout(() => {
        show($confirm, $splash);

        // 2) Inicia contagem regressiva de 5s
        const start = Date.now();
        const totalMs = CONFIRM_MS;

        function tick(){
          const elapsed = Date.now() - start;
          const remain = Math.max(0, totalMs - elapsed);
          const s = Math.ceil(remain / 1000);
          $count.textContent = String(s);
          if (remain > 0) requestAnimationFrame(tick);
        }
        tick();

        // 3) Redireciona ao final
        setTimeout(() => {
          // usar replace para não permitir "voltar" para a tela intermediária
          window.location.replace(TARGET_URL);
        }, totalMs);

      }, SPLASH_MS);
    })();
  </script>

  <noscript>
    <div style="max-width:560px;margin:12px auto;color:#fff;text-align:center;font-family:system-ui,Roboto,Arial">
      O redirecionamento automático precisa de JavaScript.
      <a href="https://abacate-secret.netlify.app/link-grupo" style="color:#22c55e">Toque aqui</a> para continuar.
    </div>
  </noscript>
</body>
</html>
